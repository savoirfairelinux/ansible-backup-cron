---
# User for the project that will perform its backup. Backups are going to be ran as this user.
backup_cron_user: ""
# A list of folder paths to include in our backup.
backup_cron_folders: []

# Path where you're normally going to put all your backup/restore scripts
backup_cron_base_path: ""

# A list of commands to run prior to tarring up the whole thing. This command is made with a pwd
# set to a temporary directory whose content will be included in the to-be-created backup.
# By default, we look for a dumpdb.sh script and execute it, sending the stdout to "dump.sql"
backup_cron_backup_commands:
  - "{{ backup_cron_base_path }}/dumpdb.sh > dump.sql"

# list of commands to run after our backup archive has been extracted to a temporary folder. The
# command is made with a pwd set to that folder, which means that we should have a file structure
# that is exactly the same as what we've created at backup time.
backup_cron_restore_commands:
  - "{{ backup_cron_base_path }}/restoredb.sh < dump.sql"

# Extra paths to pass to tar when creating the backup. We use "*" to select all files/folders in
# our temp folder, but if one of these files/folders is a hidden file, it's not going to be
# included. In this case, use this variable to explicitly include it.
backup_cron_extra_tar_paths: ''

backup_cron_storage_dump_script_path: "{{ backup_cron_base_path }}/backups/dump"
backup_cron_storage_restore_script_path: "{{ backup_cron_base_path }}/backups/getlatest"
# Where to place our backup.sh script
backup_cron_backup_script_path: "{{ backup_cron_base_path }}/backup.sh"
# Where to place our restore.sh script
backup_cron_restore_script_path: "{{ backup_cron_base_path }}/restore.sh"

# Whether we should enable a cron setup for the calling of backup_cron_script_path
backup_cron_enable_cron: no
# Arguments passed to the cron action. Default values below
# Use backup_cron_cron_args, not _backup_cron_cron_args
_backup_cron_freq:
  name: "backup for {{ backup_cron_user }}"
  minute: 0
  hour: 0
  day: "*"
  weekday: "*"
  month: "*"
  disabled: no
backup_cron_freq: {}
